# dice-cli

Простой калькулятор бросков кубиков в терминале с поддержкой модификаторов, истории и цветового выделения.

## Назначение

Позволяет выполнять сложные броски кубиков (например, `2d6+1d4-3`) с дополнительными опциями:
- выбор лучшего/худшего из нескольких бросков,
- усиление или ослабление результата,
- удобная история последних 10 выражений.

## Синтаксис броска

Основной формат:  
`[±][N]dX[!*/?...]`

Где:
- `N` — количество кубиков (по умолчанию 1),
- `X` — число граней (например, `6`, `20`),
- знак `+` или `-` — добавление или вычитание всего члена,
- можно указывать несколько членов: `2d6+1d4-5`.

### Спецсимволы (в конце каждого члена)

| Символ | Эффект |
|--------|--------|
| `!`    | **Преимущество** — бросить дважды и взять максимальный результат. Несколько `!` не усиливают эффект. |
| `?`    | **Помеха** — бросить дважды и взять минимальный результат. |
| `*`    | **Уязвимость** — умножить итог на 2. |
| `/`    | **Сопротивление** — умножить итог на 0.5. |

Если `*` и `/` встречаются в равном количестве — модификатор не применяется. Аналогично, если `?` и `!` встречаются в равном количестве — происходит один бросок.

> Примеры:  
> `d20!` — бросить d20 дважды, взять лучший из двух.  
> `3d6??` — бросить 3d6 дважды, взять худший.  
> `2d8*` — бросить 2d8 и удвоить результат.  
> `1d4*/` — без модификатора (один `*`, один `/`).
> `4d4?!` — бросить 4d4 без помехи и преимущества.

## История

- Последние 10 уникальных бросков сохраняются.
- При пустом вводе повторяется **последний** бросок.
- Ввод цифры `0–9` повторяет соответствующий бросок из истории (0 — самый свежий).
- Повторный бросок перемещается в начало истории.

## Установка и запуск

Требуется Python 3.7+.
Используются только встроенные библиотеки, устанавливать дополнительные не нужно.

```bash
python3 dice.py
```

Или сделайте исполняемым:

```bash
chmod +x dice.py
./dice.py
```

## Примечания

- Поддерживается замена `к` на `d`: `2к6` → `2d6`.
- Все пробелы игнорируются.
- Цветовая подсветка работает в ANSI-совместимых терминалах.
